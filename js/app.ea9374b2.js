(function(e){function t(t){for(var c,o,i=t[0],u=t[1],s=t[2],d=0,f=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(c in u)Object.prototype.hasOwnProperty.call(u,c)&&(e[c]=u[c]);l&&l(t);while(f.length)f.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],c=!0,i=1;i<n.length;i++){var u=n[i];0!==r[u]&&(c=!1)}c&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var c={},r={app:0},a=[];function o(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=c,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)o.d(n,c,function(t){return e[t]}.bind(null,c));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var l=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0c7c":function(e,t,n){var c={"./button.config.vue":"9dcb"};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(c,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return c[e]}r.keys=function(){return Object.keys(c)},r.resolve=a,e.exports=r,r.id="0c7c"},"11ce":function(e,t,n){"use strict";n("6882")},1270:function(e,t,n){"use strict";n.r(t);var c=n("7a23");function r(e,t,n,r,a,o){var i=Object(c["resolveComponent"])("el-input");return Object(c["openBlock"])(),Object(c["createBlock"])(i,{"data-id":"uiInput"})}var a={name:"uiInput",props:{placeholder:{type:String,default:"请输入"}}},o=n("6b0d"),i=n.n(o);const u=i()(a,[["render",r]]);t["default"]=u},"185a":function(e,t,n){"use strict";n.r(t);var c=n("7a23"),r=["uid"];function a(e,t,n,a,o,i){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:Object(c["normalizeClass"])({draging:o.draging,uiContainer:!0}),uid:n.uid,"data-id":"uiContainer",onDragover:t[0]||(t[0]=Object(c["withModifiers"])((function(){}),["prevent"]))},[Object(c["renderSlot"])(e.$slots,"default",{},void 0,!0)],42,r)}var o=n("ed08"),i={name:"uiContainer",props:{uid:{type:String,default:"-1"}},data:function(){return{draging:!1,schame:null}},methods:{updateDraging:function(e){this.draging=e}},mounted:function(){new o["f"](this,o["b"].getInstance())}},u=(n("6f87"),n("6b0d")),s=n.n(u);const l=s()(i,[["render",a],["__scopeId","data-v-127544a5"]]);t["default"]=l},"1ed8":function(e,t,n){"use strict";n("e166")},"2a7d":function(e,t,n){"use strict";n.r(t);var c=n("7a23");function r(e,t,n,r,a,o){var i=Object(c["resolveComponent"])("el-button");return Object(c["openBlock"])(),Object(c["createBlock"])(i,{"data-id":"uiButton"},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(n.text),1)]})),_:1})}var a={name:"uiButton",props:{text:{type:String,default:"确认"}}},o=n("6b0d"),i=n.n(o);const u=i()(a,[["render",r]]);t["default"]=u},4138:function(e,t,n){},4678:function(e,t,n){var c={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(c,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return c[e]}r.keys=function(){return Object.keys(c)},r.resolve=a,e.exports=r,r.id="4678"},4723:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23"),r=n("5530"),a=n("ed08"),o=n("5502"),i=n("c1df"),u=n.n(i),s={class:"appWrapper"},l={setup:function(e){var t=Object(c["readonly"])(Object(o["d"])());Object(c["onMounted"])((function(){n()}));var n=function(){var e=!1;document.addEventListener("keydown",(function(t){e=t.ctrlKey,t.preventDefault()})),document.addEventListener("keyup",(function(n){var c=n.keyCode;e&&17!==c&&(t.commit("common/saveShortcutKey",Object(r["a"])(Object(r["a"])({},a["d"][n.keyCode]),{},{updateTime:u()().valueOf()})),n.preventDefault())}))};return function(e,t){var n=Object(c["resolveComponent"])("router-view");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",s,[Object(c["createVNode"])(n)])}}},d=(n("1ed8"),n("6b0d")),f=n.n(d);const b=f()(l,[["__scopeId","data-v-3ed8e5ee"]]);var j=b,m=(n("b059"),n("c3a1")),h=(n("7437"),n("6c02")),p=(n("07ac"),n("a434"),n("fb6a"),n("b64b"),function(e){var t=e.revocation,n=e.history,r=e.save,a=e.copy,i=e.paste,u=Object(o["d"])(),s=Object(c["computed"])((function(){return u.state.common.shortcutKeyInfo}));Object(c["watch"])(s,(function(e){if(e){var c=e||{},o=c.label;switch(o){case"撤销":t&&t();break;case"历史":n&&n();break;case"保存":r&&r();break;case"复制":a&&a();break;case"粘贴":i&&i();break}}}))}),v=function(e){return Object(c["pushScopeId"])("data-v-637d8ad8"),e=e(),Object(c["popScopeId"])(),e},O={class:"topBarWrapper"},y=v((function(){return Object(c["createElementVNode"])("div",{class:"logo"},null,-1)})),g={class:"r"},k={class:"history"},N={class:"user"},x={class:"dialog-footer"},C=Object(c["createTextVNode"])("取消"),w=Object(c["createTextVNode"])("确认"),V={props:["memo","active"],emits:["back","revocation","save"],setup:function(e,t){var n=t.emit,r=e,o=Object(c["reactive"])({userName:"三岁就会写bug",visible:!1,options:[],selectItem:void 0});p({revocation:function(){r.active&&n("revocation")},history:function(){o.visible=!!r.memo.length},save:function(){r.active&&n("save")}}),Object(c["watch"])((function(){return o.visible}),(function(e){e&&(o.options=Object.keys(r.memo.memos))}));var i=function(){if(o.selectItem){var e=r.memo.getMemo(o.selectItem);n("back",e),o.visible=!1}else Object(a["C"])("请选择")};return function(t,n){var a=Object(c["resolveComponent"])("el-tooltip"),u=Object(c["resolveComponent"])("el-option"),s=Object(c["resolveComponent"])("el-select"),l=Object(c["resolveComponent"])("el-button"),d=Object(c["resolveComponent"])("el-dialog");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",O,[y,Object(c["createElementVNode"])("div",g,[Object(c["createElementVNode"])("div",k,[Object(c["createVNode"])(a,{effect:"dark",content:"撤销",placement:"bottom"},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["revoke","item",e.active?"act":""]),onClick:n[0]||(n[0]=function(e){return r.active&&t.$emit("revocation")})},null,2)]})),_:1}),Object(c["createVNode"])(a,{effect:"dark",content:"历史",placement:"bottom"},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["past","item",r.memo.length?"act":""]),onClick:n[1]||(n[1]=function(e){return Object(c["unref"])(o).visible=!!r.memo.length})},null,2)]})),_:1}),Object(c["createVNode"])(a,{effect:"dark",content:"保存",placement:"bottom"},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",{class:"save item",onClick:n[2]||(n[2]=function(e){return r.active&&t.$emit("save")})})]})),_:1})]),Object(c["createElementVNode"])("div",N,Object(c["toDisplayString"])(Object(c["unref"])(o).userName),1),Object(c["createVNode"])(d,{modelValue:Object(c["unref"])(o).visible,"onUpdate:modelValue":n[5]||(n[5]=function(e){return Object(c["unref"])(o).visible=e}),title:"历史",width:"30%","custom-class":"top-bar-modal","before-close":t.handleClose},{footer:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("span",x,[Object(c["createVNode"])(l,{onClick:n[4]||(n[4]=function(e){return Object(c["unref"])(o).visible=!1})},{default:Object(c["withCtx"])((function(){return[C]})),_:1}),Object(c["createVNode"])(l,{type:"primary",onClick:i},{default:Object(c["withCtx"])((function(){return[w]})),_:1})])]})),default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,{modelValue:Object(c["unref"])(o).selectItem,"onUpdate:modelValue":n[3]||(n[3]=function(e){return Object(c["unref"])(o).selectItem=e}),placeholder:"请选择历史",size:"large"},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(Object(c["unref"])(o).options,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(u,{key:e,label:e,value:e},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1},8,["modelValue","before-close"])])])}}};n("11ce");const S=f()(V,[["__scopeId","data-v-637d8ad8"]]);var I=S,B=(n("d81d"),n("b0c0"),n("d3b7"),n("ddb0"),n("baed")),E=B.keys(),_=E.reduce((function(e,t){var n=B(t);return e[n.default.name]=n.default,e}),{}),A={class:"stockWrapper"},D=["onDragstart"],T={name:"Stock",data:function(){return{stacks:[]}},mounted:function(){this.stacks=Object.keys(_).map((function(e){return{uiName:e,name:Object(a["y"])(e)}}))}},M=Object.assign(T,{setup:function(e){var t=Object(o["d"])(),n=Object(c["readonly"])(a["b"].getInstance()),r=Object(c["computed"])((function(){return t.state.common.barAndMenuInfo})),i=Object(c["computed"])((function(){return t.state.common.sublineId})),u=Object(c["computed"])((function(){return t.state.common.tree})),s=function(e,t){n.notify(!0),t.dataTransfer.setData("ui-component-name",e.uiName)},l=function(e){n.notify(!1),e.dataTransfer.clearData("ui-component-name"),t.commit("common/saveActiveSublineId","")},d=function(e){var n=r.value,c=n.barHeight,o=n.menuWidth,s=10,l=Object(a["A"])(o)-s,d=Object(a["A"])(c);if(e.clientX-l>20&&e.clientY-d>10&&u.value.type){var f=Object(a["p"])(u.value,80,e);f&&f.uid!==i.value&&t.commit("common/saveActiveSublineId",f.uid),!f&&i.value&&t.commit("common/saveActiveSublineId","")}};return function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("ul",A,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.stacks,(function(e){return Object(c["openBlock"])(),Object(c["createElementBlock"])("li",{class:"stock-item",draggable:!0,onDragstart:function(t){return s(e,t)},onDragend:l,onDrag:d,key:e.uiName},Object(c["toDisplayString"])(e.name),41,D)})),128))])}}});n("5f33");const z=f()(M,[["__scopeId","data-v-5bfa0e4b"]]);var K=z,U={key:0,class:"emptyBox"};function W(e,t,n,r,a,o){var i=Object(c["resolveComponent"])("el-empty"),u=Object(c["resolveComponent"])("renderEngine");return a.isEmpty?(Object(c["openBlock"])(),Object(c["createBlock"])(u,{key:1,jsonSchema:n.jsonSchema,updateKey:n.updateKey},null,8,["jsonSchema","updateKey"])):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",U,[Object(c["createVNode"])(i,{description:"请拖拽到此"}),Object(c["createElementVNode"])("div",{class:"empty","data-id":"empty",onDragover:t[0]||(t[0]=Object(c["withModifiers"])((function(){}),["prevent"]))},null,32)]))}n("a9e3"),n("99af");var H=["id"],R={ref:"subline-x"},$={ref:"subline-y"};function L(e,t,n,r,a,o){var i=Object(c["resolveComponent"])("drag-hoc");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:Object(c["normalizeClass"])({deleteBtnHoc:!0,isContainer:"Container"===a.type}),style:Object(c["normalizeStyle"])(a.attribute),id:this.uid,onClick:t[1]||(t[1]=function(){return o.handleActivate&&o.handleActivate.apply(o,arguments)}),onFocus:t[2]||(t[2]=function(){return e.handleFocus&&e.handleFocus.apply(e,arguments)}),ref:"child"},[a.isShowDelete?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:0,class:"delete",onClick:t[0]||(t[0]=function(){return o.handleDelete&&o.handleDelete.apply(o,arguments)})})):Object(c["createCommentVNode"])("",!0),a.isShowSubline?(Object(c["openBlock"])(),Object(c["createBlock"])(c["Teleport"],{key:1,to:"body"},[Object(c["createElementVNode"])("div",R,null,512),Object(c["createElementVNode"])("div",$,null,512)])):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(i,{tree:n.tree,setUpKey:function(){return a.upKey++}},{default:Object(c["withCtx"])((function(){return[Object(c["renderSlot"])(e.$slots,"default",{},void 0,!0)]})),_:3},8,["tree","setUpKey"])],46,H)}var F={setup:function(e){var t=Object(c["ref"])(),n=Object(o["d"])(),i=(Object(c["reactive"])({cls:{visibility:"visible"}}),Object(c["useAttrs"])()),u=i.tree,s=u.uid,l=u.layout.attr,d=i.setUpKey;Object(c["onMounted"])((function(){a["c"].emit("rectify",j)})),Object(c["onBeforeUnmount"])((function(){n.commit("common/saveDragingElementInfo",{})}));var f=Object(c["inject"])("updateNode"),b=function(e){n.commit("common/saveActiveSublineId","")},j=function(e,t){if("function"===typeof f){var n={x:e,y:t};console.log(n,"attribute"),f(s,n),"function"===typeof d&&d()}},m=function(e){var c=Object(a["n"])(e),o=c.x,i=c.y,u=Object(a["n"])({target:Object(a["m"])(s)}),d=u.width,f=u.height;n.commit("common/saveDragingElementInfo",Object(r["a"])({uid:s,width:d,height:f,el:t},l)),j(o,i)};return function(e,n){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:"drag-hoc",draggable:!0,onDragstart:b,onDrag:m,onDragend:n[0]||(n[0]=function(){return e.handleDragEnd&&e.handleDragEnd.apply(e,arguments)}),ref_key:"dragRef",ref:t},[Object(c["renderSlot"])(e.$slots,"default")],544)}}};const q=F;var P=q,Y={name:"deleteBtnHoc",props:["tree"],inject:["removeNode"],data:function(){return{isShowDelete:!1,actInstance:null,uid:this.tree.uid,type:this.tree.type,attribute:{},isShowSubline:!1,upKey:0}},computed:Object(o["c"])({barAndMenuInfo:function(e){var t=e.common;return t.barAndMenuInfo},sublineId:function(e){var t=e.common;return t.saveActiveSublineId},shortcutKeyInfo:function(e){var t=e.common;return t.shortcutKeyInfo}}),watch:{sublineId:function(e){this.isShowSubline=this.uid===e},isShowSubline:function(e){var t=this;e&&this.$nextTick((function(){a["B"].call(t,t.attribute)}))},upKey:function(){this.setDynamicWrapperStyle()}},mounted:function(){var e=this;this.actInstance=a["a"].getInstance(),this.setDynamicWrapperStyle(),a["c"].on(this.uid,(function(t){e.handleActivate(t)}))},methods:{setDynamicWrapperStyle:function(){var e=this.$refs.child,t=e.children[e.children.length-1].children[0];if(t.dataset.id!==a["D"].CONTAINER){var n=getComputedStyle(t),c=n.width,r=c?Object(a["A"])(c):180;e.style=Object(a["w"])({width:r>180?"180px":r+"px"});var o=this.tree.layout,i=Object(a["x"])(o,{w:r}),u=i.attribute;this.attribute=u}else{var s=Object(a["o"])(e),l=s.el,d=Object(a["r"])(),f=d.width,b=l.children,j=this.barAndMenuInfo.barHeight,m=j;b.length>1&&(m=0);for(var h=0;h<b.length-1;h++){var p=getComputedStyle(b[h]),v=p.height,O=p.top,y=Object(a["A"])(O)+Object(a["A"])(v);m=Math.max(m,y)}e.style=Object(a["w"])({top:m+10+"px",width:f})}},handleActivate:function(e){var t=this;e.stopPropagation(),this.actInstance&&(this.actInstance.update("isShowDelete"),this.actInstance.attach(this)),this.$store.commit("common/saveActiveSublineId",this.uid),this.isShowSubline=!0,this.isShowDelete=!0,this.$nextTick((function(){a["B"].call(t,t.attribute)}))},handleDelete:function(){var e=this;this.actInstance&&this.actInstance.update("isShowDelete"),this.$nextTick((function(){setTimeout((function(){e.isShowDelete=!1}),100)})),a["c"].off(this.uid),this.removeNode(this.uid)}},components:{DragHoc:P}};n("b166");const X=f()(Y,[["render",L],["__scopeId","data-v-4ff9f6b3"]]);var J=X;function G(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!Object(c["isVNode"])(e)}var Q={name:"renderEngine",props:{jsonSchema:{type:Object,default:function(){return Object(a["i"])()}},updateKey:{type:Number}},data:function(){return{pageParams:null,layout:null,renderFunc:null}},watch:{updateKey:function(){this.init()}},created:function(){this.init()},methods:{init:function(){var e=this.jsonSchema,t=e.componentsTree,n=e.layout;this.pageParams=Object(a["z"])(this.jsonSchema.query),this.layout=n,this.tree=t},_h:function(e,t,n){return Object(c["h"])(e,{uid:n.uid},t)},renderTree:function(e){var t=null;return Array.isArray(e.children)&&e.children.length&&(t=this.renderChildren(e)),this.renderRealComponent(e,t)},renderChildren:function(e){var t=this,n=e.children||[].concat(e);return n.map((function(e){return t.renderTree(e)}))},renderRealComponent:function(e,t){var n,r=a["E"]+e.type,o=_[r];return o?e.isRoot?this._h(o,t,e):Object(c["createVNode"])(J,{tree:e,key:e.uid},G(n=this._h(o,t,e))?n:{default:function(){return[n]}}):null}},render:function(){return Object(c["createVNode"])("div",{id:"root",style:{position:"relative"}},[this.renderTree(this.tree)])},components:Object(r["a"])({},_)},Z={setup:function(e){var t=Object(c["reactive"])({rectifyCb:null});Object(c["onMounted"])((function(){Object(a["u"])(),a["c"].on("rectify",(function(e){t.rectifyCb=e}))}));var n=new a["g"](30),r=Object(o["d"])(),i=Object(c["computed"])((function(){return r.state.common.dragingElementInfo}))||{},u=function(){var e=n.uncheck();if("function"===typeof t.rectifyCb){var c=e.left,r=e.top,o=i.value,u=o.width,s=(o.height,o.x),l=o.y,d=c?Object(a["A"])(c)+u/2:s,f=r?Object(a["A"])(r):l;t.rectifyCb(d,f)}},s=function(e){var t=i.value,c=Object(a["n"])(e);c.x,c.y,c.width,c.height;requestAnimationFrame((function(){return n.check(t.el,".drag-hoc")}))};return function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:"snap-align",onDrag:s,onDragend:u},[Object(c["renderSlot"])(e.$slots,"default")],32)}}};const ee=Z;var te=ee,ne={name:"canvasArea",props:{jsonSchema:{type:Object},updateKey:{type:Number,default:0}},data:function(){return{components:[],isEmpty:Object(a["t"])(this.jsonSchema.componentsTree)}},updated:function(){this.isEmpty=Object(a["t"])(this.jsonSchema.componentsTree)},components:Object(r["a"])(Object(r["a"])({},void 0),{},{renderEngine:Q})};n("a390");const ce=f()(ne,[["render",W],["__scopeId","data-v-f9fe668c"]]);var re=ce,ae={class:"configWrapper"};function oe(e,t,n,r,a,o){var i=Object(c["resolveComponent"])("ConfigTabsHoc");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",ae,[Object(c["createVNode"])(i,{activeName:a.activeName,ref:"tabs"},{attr:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(),Object(c["createBlock"])(Object(c["resolveDynamicComponent"])(a.currentComponent),{activeName:"attr"}))]})),behaviour:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(),Object(c["createBlock"])(Object(c["resolveDynamicComponent"])(a.currentComponent),{activeName:"behaviour"}))]})),_:1},8,["activeName"])])}var ie=function(e){return Object(c["pushScopeId"])("data-v-07a3b0cd"),e=e(),Object(c["popScopeId"])(),e},ue={class:"configTabsHoc"},se={class:"commom-attr"},le={class:"attr-coordinate"},de=ie((function(){return Object(c["createElementVNode"])("div",{class:"attr-coordinate-x"},"x坐标:",-1)})),fe={class:"attr-coordinate"},be=ie((function(){return Object(c["createElementVNode"])("div",{class:"attr-coordinate-y"},"y坐标:",-1)})),je={class:"attr-area"},me=ie((function(){return Object(c["createElementVNode"])("div",{class:"attr-area-w"},"宽度:",-1)})),he={class:"attr-area"},pe=ie((function(){return Object(c["createElementVNode"])("div",{class:"attr-area-h"},"高度:",-1)}));function ve(e,t,n,r,a,o){var i=Object(c["resolveComponent"])("el-input"),u=Object(c["resolveComponent"])("el-tab-pane"),s=Object(c["resolveComponent"])("el-tabs");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",ue,[Object(c["createVNode"])(s,{onTabClick:o.handleTabClick,modelValue:n.activeName,"onUpdate:modelValue":t[4]||(t[4]=function(e){return n.activeName=e})},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(u,{label:"外观",name:"attr"},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",se,[Object(c["createElementVNode"])("div",le,[de,Object(c["createVNode"])(i,{modelValue:e.input,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.input=t}),placeholder:"请输入x坐标"},null,8,["modelValue"])]),Object(c["createElementVNode"])("div",fe,[be,Object(c["createVNode"])(i,{modelValue:e.input,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.input=t}),placeholder:"请输入y坐标"},null,8,["modelValue"])]),Object(c["createElementVNode"])("div",je,[me,Object(c["createVNode"])(i,{modelValue:e.input,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.input=t}),placeholder:"请输入宽度"},null,8,["modelValue"])]),Object(c["createElementVNode"])("div",he,[pe,Object(c["createVNode"])(i,{modelValue:e.input,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.input=t}),placeholder:"请输入高度"},null,8,["modelValue"])])]),Object(c["renderSlot"])(e.$slots,"attr",{},void 0,!0)]})),_:3}),Object(c["createVNode"])(u,{label:"行为",name:"behaviour"},{default:Object(c["withCtx"])((function(){return[Object(c["renderSlot"])(e.$slots,"behaviour",{},void 0,!0)]})),_:3})]})),_:3},8,["onTabClick","modelValue"])])}var Oe={name:"configTabsHoc",props:["activeName"],mounted:function(){},data:function(){return{active:this.activeName}},methods:{handleTabClick:function(e){console.log(e)}}};n("9552");const ye=f()(Oe,[["render",ve],["__scopeId","data-v-07a3b0cd"]]);var ge=ye,ke=n("0c7c"),Ne=ke.keys(),xe=Ne.reduce((function(e,t){var n=ke(t);return e[n.default.name]=n.default,e}),{}),Ce={name:"configWrapper",components:Object(r["a"])({ConfigTabsHoc:ge},xe),data:function(){return{activeName:"attr",currentComponent:xe["uiButtonConfig"]}}};n("8be4");const we=f()(Ce,[["render",oe],["__scopeId","data-v-41515b5b"]]);var Ve=we,Se=function(e){return Object(c["pushScopeId"])("data-v-1e58fa83"),e=e(),Object(c["popScopeId"])(),e},Ie={class:"mainWrapper"},Be=Se((function(){return Object(c["createElementVNode"])("span",{class:"tit"},"快捷键：",-1)})),Ee={name:"Main"},_e=Object.assign(Ee,{setup:function(e){var t=Object(c["reactive"])({jsonSchema:Object(a["i"])(),updateKey:0,stack:[],memo:{},active:!1,keyCodes:[],coping:!1}),n=Object(o["d"])();p({copy:function(){n.state.common.saveActiveSublineId?(t.coping=!0,Object(a["C"])("已复制","success")):Object(a["C"])("请选择要复制的组件")},paste:function(){if(t.coping){var e=t.jsonSchema,c=e.componentsTree,r=Object(a["l"])(c,n.state.common.saveActiveSublineId),o=r.node,i=r.parentNode,u=o.layout,s=void 0===u?{}:u,l=o.type,d=s.attr||{},f=d.x,b=d.y;if(i){Array.isArray(i.children)||(i.children=[]);var j=o.uid,m=i.uid,h=Object(a["m"])(j),p=Object(a["m"])(m),v=Object(a["n"])({target:h}),O=v.width,y=(v.height,Object(a["n"])({target:p})),g=y.width,k=(y.height,f+O+5);if(k>g)return void Object(a["C"])("无效复制");i.children.push(Object(a["j"])(l,{attr:{x:k,y:b}})),t.coping=!1,t.updateKey++}}else Object(a["C"])("没有要粘贴的组件")}}),Object(c["onMounted"])((function(){n.commit("common/saveMenuAndBarElementInfo",Object(a["q"])()),t.keyCodes=Object.values(a["d"])}));var r=function(){t.stack=new a["h"],t.memo=new a["e"]};r(),Object(c["watch"])((function(){return t.updateKey}),(function(){var e=t.jsonSchema,c=t.stack,r=e.componentsTree;r.type?(c.push(Object(a["k"])(r)),t.active=!!r.children.length):t.active=!1,n.commit("common/saveTreeData",Object(a["k"])(r))}));var i=function(){var e=t.jsonSchema,n=t.memo,c=e.componentsTree;if(c.type){var r=u()().format("YYYY-MM-DD HH:mm:ss");if(n.length&&Object(a["v"])(c,n.current))return void Object(a["C"])("保存成功-same","success");n.setMemo(r,Object(a["k"])(c)),Object(a["C"])("保存成功","success")}},s=function(e){var n=t.jsonSchema;n.componentsTree=e,t.updateKey++},l=function(){var e=t.stack,n=e.pop();s(n)},d=function(e){var n=t.jsonSchema,c=n.componentsTree,r=!1;function a(t){for(var n=0;n<t.length&&!r;n++)t[n].uid===e?(t.splice(n,1),r=!0):a(t[n].children)}a(c.children),t.updateKey++},f=function(e,n){var c=n.x,r=n.y,o=t.jsonSchema,i=o.componentsTree,u=Object(a["l"])(i,e),s=u.node,l=s.layout.attr;l.x=c,l.y=r,t.updateKey++},b=function(e){var n=t.jsonSchema,c=n.componentsTree,r=e.dataTransfer.getData("ui-component-name");if(r)if(c.type||r===a["D"].CONTAINER){if(c.type){var o=Object(a["n"])(e),i=o.x,u=o.y,s=Object(a["o"])(e),l=s.uid,d=Object(a["l"])(c,l),f=d.node;Array.isArray(f.children)||(f.children=[]),f.children.push(Object(a["j"])(r.slice(2),{attr:{x:i,y:u}}))}else c.type="Container",c.uid=Object(a["s"])(),c.isRoot=!0,c.children=[];t.updateKey++}else Object(a["C"])("请选择交互组件")};return Object(c["provide"])("removeNode",d),Object(c["provide"])("updateNode",f),function(e,n){var r=Object(c["resolveComponent"])("el-col"),a=Object(c["resolveComponent"])("el-row");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Ie,[Object(c["createVNode"])(a,{class:"topBarBox"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(r,{span:24},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(Object(c["unref"])(I),{onRevocation:l,onSave:i,onBack:s,active:Object(c["unref"])(t).active,memo:Object(c["unref"])(t).memo},null,8,["active","memo"])]})),_:1})]})),_:1}),Object(c["createVNode"])(a,{class:"mainBox"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(r,{span:3},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(K)]})),_:1}),Object(c["createVNode"])(r,{span:16},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(te,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(re,{jsonSchema:Object(c["unref"])(t).jsonSchema,updateKey:Object(c["unref"])(t).updateKey,onDrop:b},null,8,["jsonSchema","updateKey"])]})),_:1})]})),_:1}),Object(c["createVNode"])(r,{span:5},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(Ve)]})),_:1})]})),_:1}),Object(c["createVNode"])(a,{class:"tipsBox"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(r,null,{default:Object(c["withCtx"])((function(){return[Be,(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(Object(c["unref"])(t).keyCodes,(function(e){return Object(c["openBlock"])(),Object(c["createElementBlock"])("span",{key:e.value},Object(c["toDisplayString"])(e.label)+"（"+Object(c["toDisplayString"])(e.value)+"）",1)})),128))]})),_:1})]})),_:1})])}}});n("6dd4");const Ae=f()(_e,[["__scopeId","data-v-1e58fa83"]]);var De=Ae,Te=[{path:"/",redirect:"/main"},{path:"/main",component:De}],Me=Object(h["a"])({routes:Te,history:Object(h["b"])()}),ze=Me;function Ke(){return{barAndMenuInfo:{menuWidth:"0px",barHeight:"0px"},tree:{},saveActiveSublineId:"",shortcutKeyInfo:"",dragingElementInfo:{}}}var Ue={namespaced:!0,state:Object(r["a"])({},Ke()),actions:{},mutations:{saveDragingElementInfo:function(e,t){e.dragingElementInfo=t},saveMenuAndBarElementInfo:function(e,t){e.barAndMenuInfo=Object(r["a"])({},t)},saveTreeData:function(e,t){e.tree=Object(r["a"])({},t)},saveActiveSublineId:function(e,t){e.saveActiveSublineId=t},saveShortcutKey:function(e,t){e.shortcutKeyInfo=t}}},We=!1,He=Object(o["b"])({modules:{common:Ue},strict:We,plugins:We?[Object(o["a"])()]:[]}),Re=He,$e=Object(c["createApp"])(j);$e.use(Re),$e.use(m["a"]),$e.use(ze),$e.mount("#app")},"5f33":function(e,t,n){"use strict";n("cb9e")},6882:function(e,t,n){},"6dd4":function(e,t,n){"use strict";n("dfc1")},"6f87":function(e,t,n){"use strict";n("4723")},"8be4":function(e,t,n){"use strict";n("b64c")},9552:function(e,t,n){"use strict";n("4138")},"9dcb":function(e,t,n){"use strict";n.r(t);var c=n("7a23"),r={key:0},a=Object(c["createElementVNode"])("div",null,"ssss",-1),o=[a],i={key:1};function u(e,t,n,a,u,s){return"attr"==n.activeName?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",r,o)):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",i,"behaviour"))}var s={name:"uiButtonConfig",props:["activeName"],data:function(){return{attr:{},behaviour:{}}},mounted:function(){console.log(this.activeName,"activeName")}},l=n("6b0d"),d=n.n(l);const f=d()(s,[["render",u]]);t["default"]=f},a390:function(e,t,n){"use strict";n("e50f")},b059:function(e,t,n){},b166:function(e,t,n){"use strict";n("b3a6")},b3a6:function(e,t,n){},b64c:function(e,t,n){},baed:function(e,t,n){var c={"./Button.vue":"2a7d","./Container.vue":"185a","./Input.vue":"1270","./Tag.vue":"c009"};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(c,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return c[e]}r.keys=function(){return Object.keys(c)},r.resolve=a,e.exports=r,r.id="baed"},c009:function(e,t,n){"use strict";n.r(t);var c=n("7a23"),r=Object(c["createTextVNode"])("Tag 1");function a(e,t,n,a,o,i){var u=Object(c["resolveComponent"])("el-tag");return Object(c["openBlock"])(),Object(c["createBlock"])(u,{"data-id":"uiTag"},{default:Object(c["withCtx"])((function(){return[r]})),_:1})}var o={name:"uiTag"},i=n("6b0d"),u=n.n(i);const s=u()(o,[["render",a]]);t["default"]=s},cb9e:function(e,t,n){},dfc1:function(e,t,n){},e166:function(e,t,n){},e50f:function(e,t,n){},ed08:function(e,t,n){"use strict";n.d(t,"d",(function(){return b})),n.d(t,"A",(function(){return j})),n.d(t,"D",(function(){return m})),n.d(t,"E",(function(){return h})),n.d(t,"y",(function(){return p})),n.d(t,"t",(function(){return v})),n.d(t,"C",(function(){return O})),n.d(t,"j",(function(){return y})),n.d(t,"x",(function(){return g})),n.d(t,"B",(function(){return k})),n.d(t,"w",(function(){return N})),n.d(t,"z",(function(){return x})),n.d(t,"i",(function(){return C})),n.d(t,"s",(function(){return w})),n.d(t,"v",(function(){return V})),n.d(t,"p",(function(){return S})),n.d(t,"l",(function(){return I})),n.d(t,"k",(function(){return B})),n.d(t,"f",(function(){return D})),n.d(t,"b",(function(){return T})),n.d(t,"a",(function(){return M})),n.d(t,"c",(function(){return K})),n.d(t,"h",(function(){return U})),n.d(t,"e",(function(){return W})),n.d(t,"n",(function(){return i})),n.d(t,"r",(function(){return s})),n.d(t,"q",(function(){return l})),n.d(t,"o",(function(){return d})),n.d(t,"m",(function(){return f})),n.d(t,"u",(function(){return R})),n.d(t,"g",(function(){return $}));var c=n("53ca"),r=(n("ac1f"),n("5319"),n("d3b7"),n("b64b"),n("25f0"),n("3ef4")),a={uiButton:"按钮",uiContainer:"交互组件",uiInput:"输入框",uiTag:"标签"},o={x:"left",y:"top",w:"width",h:"height"},i=(n("caad"),n("2532"),n("4de4"),n("a630"),n("3ca3"),function(e){var t=getComputedStyle(e.target)||document.getBoundingClientRect(e.target),n=t.width,c=t.height;return{x:e.clientX,y:e.clientY,width:j(n),height:j(c)}}),u=function(){return document.getElementById("root")||document.getElementsByClassName("snap-align")[0]},s=function(){var e=u(),t=getComputedStyle(e),n=t.width,c=t.height;return{width:n,height:c}},l=function(){var e=document.getElementsByClassName("stockWrapper")[0],t=document.getElementsByClassName("topBarWrapper")[0],n=getComputedStyle(e),c=n.width,r=getComputedStyle(t),a=r.height;return{menuWidth:c,barHeight:a}},d=function(e){var t=e.target||e;while(!t.className.includes(m.CONTAINER))t=t.parentNode;return{uid:t.getAttribute("uid"),el:t}},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=t.getElementById(e);if(!n){var c=Array.from(t.getElementsByClassName("uiContainer")).filter((function(t){return t.getAttribute("uid")==e}));n=c[0]}return n},b={90:{label:"撤销",value:"ctrl+z"},72:{label:"历史",value:"ctrl+x"},83:{label:"保存",value:"ctrl+s"},67:{label:"复制",value:"ctrl+c"},86:{label:"粘贴",value:"ctrl+v"}},j=function(e){return 1*e.replace("px","")},m={ROOT:"canvas",CONTAINER:"uiContainer"},h="ui",p=function(e){return a[e]},v=function(e){return Array.isArray(e)?!!e.length:"[object Object]"===Object.prototype.toString.call(e)&&!!Object.keys(e).length},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";r["a"][t](e)},y=function(e,t){return{type:e,layout:t,children:[],uid:w()}},g=function(e,t){var n=e.attr,c=t.w,r={},a=l(),i=a.menuWidth,u=a.barHeight;for(var s in n){var d="left"==o[s]?n[s]-(c>>1):n[s];"left"==o[s]&&Math.abs(n[s]-j(i))<c>>1&&(d=j(i)),"top"==o[s]&&Math.abs(n[s]-j(u))<10&&(d=j(u)),r[o[s]]=d+"px"}return{attribute:r}},k=function(e){var t=s(),n=t.width,c=t.height,r=l(),a=r.menuWidth,o=r.barHeight,i=e.top,u=e.left;this.$refs["subline-x"].style=N({width:n,height:"1px",top:j(i)+"px",left:j(a)+"px",position:"fixed",background:"blue"}),this.$refs["subline-y"].style=N({width:"1px",height:c,left:j(u)+"px",top:j(o)+"px",position:"fixed",background:"blue"})},N=function(e){var t="";for(var n in e)t+=n+":"+e[n]+";";return t},x=function(e){return e},C=function(){return{componentsTree:{},query:void 0}},w=function(){var e=(new Date).getTime();window.performance&&"function"===typeof window.performance.now&&(e+=performance.now());var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}));return t},V=function e(t,n){return!(null==t&&null!=n||null!=t&&null==n)&&(null==t&&null==n||t.uid==n.uid&&(t.children.length==n.children.length&&t.children.every((function(t,c){return e(t,n.children[c])}))))},S=function e(t,n,c){var r=t.children,a=void 0===r?[]:r,o=t.layout,i=void 0===o?{}:o,u=t.type,s=i.attr,l=void 0===s?{}:s,d=l.x,f=void 0===d?0:d,b=l.y,j=void 0===b?0:b,m=null,h=Math.abs(f-c.clientX),p=Math.abs(j-c.clientY),v=Math.sqrt(Math.pow(h,2)+Math.pow(p,2));v<n&&'"Container"'!==u&&(m=t);for(var O=0;O<a.length&&!m;O++)m=e(a[O],n,c);return m},I=function(e,t){var n=[e],c=null,r=null;while(n.length){var a=n.shift();if(a.uid===t)n.length=0,c=a;else if(Array.isArray(a.children)&&a.children.length){r=a;for(var o=0;o<a.children.length;o++)n.push(a.children[o])}}return{node:c,parentNode:r}},B=function e(t){if(t&&"object"===Object(c["a"])(t)){var n=Array.isArray(t)?[]:{};for(var r in t)"object"===Object(c["a"])(t[r])?n[r]=e(t[r]):n[r]=t[r];return n}return t},E=n("ade3"),_=n("d4ec"),A=n("bee2"),D=(n("159b"),function(){function e(t,n){Object(_["a"])(this,e),this.vnode=t,n.attach(this)}return Object(A["a"])(e,[{key:"update",value:function(e,t){this.vnode.updateDraging(e),"function"===typeof t&&t()}}]),e}()),T=function(){function e(){Object(_["a"])(this,e),this.obs=[]}return Object(A["a"])(e,[{key:"attach",value:function(e){this.obs.push(e)}},{key:"notify",value:function(e){this.obs.forEach((function(t){t.update(e)}))}}],[{key:"getInstance",value:function(){return e.instance?e.instance:e.instance=new e}}]),e}();Object(E["a"])(T,"instance",null);var M=function(){function e(){Object(_["a"])(this,e),this.actives=[]}return Object(A["a"])(e,[{key:"attach",value:function(e){this.actives.push(e)}},{key:"update",value:function(e){this.actives.forEach((function(t){t[e]=!1}))}}],[{key:"getInstance",value:function(){return e.instance?e.instance:e.instance=new e}}]),e}();Object(E["a"])(M,"instance",null);n("fb6a");var z=function(){function e(){Object(_["a"])(this,e)}return Object(A["a"])(e,[{key:"on",value:function(e,t,n){var c=this.e||(this.e={});return(c[e]||(c[e]=[])).push({fn:t,ctx:n}),this}},{key:"once",value:function(e,t,n){var c=this;function r(){c.off(e,r),t.apply(n,arguments)}return r._=t,this.on(e,r,n)}},{key:"emit",value:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),c=0,r=n.length;for(c;c<r;c++)n[c].fn.apply(n[c].ctx,t);return this}},{key:"off",value:function(e,t){var n=this.e||(this.e={}),c=n[e],r=[];if(c&&t)for(var a=0,o=c.length;a<o;a++)c[a].fn!==t&&c[a].fn._!==t&&r.push(c[a]);return r.length?n[e]=r:delete n[e],this}}],[{key:"getInstance",value:function(){return e.Instance?e.Instance:e.Instance=new e}}]),e}();Object(E["a"])(z,"Instance",null);var K=z.getInstance(),U=function(){function e(){Object(_["a"])(this,e),this.stack=[]}return Object(A["a"])(e,[{key:"push",value:function(e){this.stack.push(e)}},{key:"pop",value:function(){return this.stack.pop(),this.stack.pop()}}]),e}(),W=function(){function e(){Object(_["a"])(this,e),this.memos={},this.length=0,this.current=null}return Object(A["a"])(e,[{key:"getMemo",value:function(e){return this.memos[e]}},{key:"setMemo",value:function(e,t){this.length++,this.current=t,this.memos[e]=t}}]),e}(),H=(n("99af"),n("07ac"),{xt:null,xc:null,xb:null,yl:null,yc:null,yr:null});function R(){var e=s(),t=e.width,n=e.height,c=l(),r=c.menuWidth,a=c.barHeight;for(var o in H){var i=H[o]=document.createElement("div");i.classList.add("ref-line",o),i.style.cssText=" display: none;\n      opacity: 0.7;\n      position: absolute;\n      background: steelblue;\n      z-index: 99999;\n      ".concat("x"===o[0]?"width: ".concat(t,"; height: 1px; left: ").concat(r):"width: 1px; height: ".concat(n,"; top: ").concat(a),"\n    "),i.show=function(){this.style.display="block"},i.hide=function(){this.style.display="none"},document.body.appendChild(i)}}var $=function(){function e(t){Object(_["a"])(this,e),this.gap=t,this.rectifyInfo={}}return Object(A["a"])(e,[{key:"check",value:function(e,t){var n=this,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.body,r=document.querySelectorAll(t),a=e.getBoundingClientRect(),o=c.getBoundingClientRect();this.rectifyInfo={},this.uncheck(),Array.from(r).forEach((function(t){if(t.classList.remove("ref-line-active"),e!==t){var c=t.getBoundingClientRect(),r=c.top,i=c.height,u=c.width,s=c.left,l=c.right,d=c.bottom,f=a.width/2,b=a.height/2,j=u/2,m=i/2,h={top:[{isNearly:n.__isNearly(a.top,r),lineNode:H.xt,lineValue:r,dragValue:r},{isNearly:n.__isNearly(a.bottom,r),lineNode:H.xt,lineValue:r,dragValue:r-a.height},{isNearly:n.__isNearly(a.top+b,r+m),lineNode:H.xc,lineValue:r+m,dragValue:r+m-b},{isNearly:n.__isNearly(a.bottom,d),lineNode:H.xb,lineValue:d,dragValue:d-a.height},{isNearly:n.__isNearly(a.top,d),lineNode:H.xb,lineValue:d,dragValue:d}],left:[{isNearly:n.__isNearly(a.left,s),lineNode:H.yl,lineValue:s,dragValue:s},{isNearly:n.__isNearly(a.right,s),lineNode:H.yl,lineValue:s,dragValue:s-a.width},{isNearly:n.__isNearly(a.left+f,s+j),lineNode:H.yc,lineValue:s+j,dragValue:s+j-f},{isNearly:n.__isNearly(a.right,l),lineNode:H.yr,lineValue:l,dragValue:l-a.width},{isNearly:n.__isNearly(a.left,l),lineNode:H.yr,lineValue:l,dragValue:l}]},p=function(e){h[e].forEach((function(c){c.isNearly&&(t.classList.add("ref-line-active"),n.rectifyInfo[e]="".concat(parseInt(c.dragValue)-parseInt(o[e]),"px"),c.lineNode.style[e]="".concat(parseInt(c.lineValue),"px"),c.lineNode.show())}))};for(var v in h)p(v)}}))}},{key:"uncheck",value:function(){return Object.values(H).forEach((function(e){return e.hide()})),Array.from(document.querySelectorAll(".ref-line-active")).forEach((function(e){return e.classList.remove("ref-line-active")})),this.rectifyInfo}},{key:"__isNearly",value:function(e,t){return Math.abs(e-t)<this.gap}}]),e}()}});
//# sourceMappingURL=app.ea9374b2.js.map